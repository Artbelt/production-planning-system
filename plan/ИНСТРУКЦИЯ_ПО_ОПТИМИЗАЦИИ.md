# üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã main.php –¥–ª—è U5

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

–Ø –ø—Ä–æ–≤–µ–ª –ø–æ–ª–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Å—Ç—Ä–∞–Ω–∏—Ü—ã main.php –∏ –Ω–∞—à–µ–ª **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞**, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–º–µ–¥–ª—è–ª–∏ –∑–∞–≥—Ä—É–∑–∫—É:

---

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1. **N+1 –ø—Ä–æ–±–ª–µ–º–∞** (–°–ê–ú–ê–Ø –ö–†–ò–¢–ò–ß–ù–ê–Ø!)
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞—è–≤–æ–∫ –≤—ã–ø–æ–ª–Ω—è–ª–æ—Å—å **100+ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤**
- –î–ª—è –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–∏ –¥–µ–ª–∞–ª–æ—Å—å 2 –∑–∞–ø—Ä–æ—Å–∞: –æ–¥–∏–Ω –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –ø–ª–∞–Ω–∞, –¥—Ä—É–≥–æ–π –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ –≤—ã–ø—É—Å–∫–∞
- **–ï—Å–ª–∏ —É –≤–∞—Å 50 –∑–∞—è–≤–æ–∫ = 100 –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤!**

### 2. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î**
- –§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –Ω–æ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**
- MySQL —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–ª–∞ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ JOIN –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## ‚ú® –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

### 1. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞—è–≤–æ–∫
**–ë—ã–ª–æ:** 100+ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î  
**–°—Ç–∞–ª–æ:** 1 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JOIN-–∑–∞–ø—Ä–æ—Å

**–ü—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:** **100x!**

### 2. ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –û–±—ä—è–≤–ª–µ–Ω–∏—è –∫—ç—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
- –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 5 –º–∏–Ω—É—Ç
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### 3. ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:
- `orders` (workshop, hide, order_number)
- `manufactured_production` (name_of_order, count_of_filters)
- `ads` (expires_at)
- `tasks` (assigned_to, status, department)
- `panel_filter_structure` (filter)

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

### –î–û –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: **5-10 —Å–µ–∫—É–Ω–¥**
- üîÑ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤: **100+**
- üìâ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ú–µ–¥–ª–µ–Ω–Ω–æ

### –ü–û–°–õ–ï –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: **0.5-2 —Å–µ–∫—É–Ω–¥—ã**
- üîÑ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤: **10-15**
- üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: **–ë—ã—Å—Ç—Ä–æ!**

### üéØ **–£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤ 5-10 —Ä–∞–∑!**

---

## üß™ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:**
   - Chrome/Edge: `Ctrl + Shift + Del` ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
   - Firefox: `Ctrl + Shift + Del` ‚Üí –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

2. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É main.php**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (`F12`)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Network**
   - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (`Ctrl + R`)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:**
   - –í–Ω–∏–∑—É –≤–∫–ª–∞–¥–∫–∏ Network —É–≤–∏–¥–∏—Ç–µ –æ–±—â–µ–µ –≤—Ä–µ–º—è
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å **–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–µ–µ**!

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### 1. `plan/main.php`
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –±–ª–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞—è–≤–æ–∫ (—Å—Ç—Ä–æ–∫–∏ 825-889)
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ –µ–¥–∏–Ω—ã–π JOIN-–∑–∞–ø—Ä–æ—Å —Å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π

### 2. `plan/tools/tools.php`
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `show_ads()` (—Å—Ç—Ä–æ–∫–∏ 7-35)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `load_filters_into_select()` (—Å—Ç—Ä–æ–∫–∏ 257-302)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. `plan/optimize_database_indexes.sql`
- ‚úÖ **–ù–û–í–´–ô –§–ê–ô–õ** - SQL-—Å–∫—Ä–∏–ø—Ç —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã —É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å:

- ‚ùå **–ù–ï –æ—Ç–∫–∞—Ç—ã–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –≤—Å—ë –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- ‚ùå **–ù–ï —É–¥–∞–ª—è–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã** - –æ–Ω–∏ —É—Å–∫–æ—Ä—è—é—Ç —Ä–∞–±–æ—Ç—É
- ‚ùå **–ù–ï –∏–∑–º–µ–Ω—è–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –µ—â–µ –±–æ–ª—å—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

#### 1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ MySQL** (—Ñ–∞–π–ª `C:\xampp\mysql\bin\my.ini`):
```ini
[mysqld]
innodb_buffer_pool_size = 256M
query_cache_size = 32M
query_cache_type = 1
max_connections = 100
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ MySQL –≤ XAMPP Control Panel.

#### 2. **–í–∫–ª—é—á–∏—Ç–µ PHP OpCache** (—Ñ–∞–π–ª `C:\xampp\php\php.ini`):
```ini
[opcache]
opcache.enable=1
opcache.memory_consumption=128
opcache.max_accelerated_files=10000
opcache.revalidate_freq=2
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Apache –≤ XAMPP Control Panel.

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º:

### –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å—ë –µ—â–µ –º–µ–¥–ª–µ–Ω–Ω–∞—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ PHP:**
   - `C:\xampp\php\logs\php_error_log`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ MySQL:**
   - XAMPP Control Panel ‚Üí MySQL ‚Üí Logs

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Slow Query Log:**
   ```sql
   -- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ phpMyAdmin –∏–ª–∏ MySQL console
   SET GLOBAL slow_query_log = 'ON';
   SET GLOBAL long_query_time = 1;
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤:**
   ```sql
   -- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ phpMyAdmin
   EXPLAIN SELECT 
       o.order_number,
       SUM(o.count) as total_planned
   FROM orders o
   WHERE o.workshop = 'U5'
   GROUP BY o.order_number;
   ```
   –í —Å—Ç–æ–ª–±—Ü–µ `key` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—à–∏ –∏–Ω–¥–µ–∫—Å—ã.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console) –Ω–∞ –æ—à–∏–±–∫–∏ JavaScript
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∫–ª–∞–¥–∫—É Network –Ω–∞ HTTP –æ—à–∏–±–∫–∏ (404, 500)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP –∏ MySQL

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ `main.php` (–ø–µ—Ä–µ–¥ `</body>`):

```php
<?php
if (isset($_GET['debug']) && $_GET['debug'] == 'time') {
    $end_time = microtime(true);
    $execution_time = $end_time - $GLOBALS['start_time'];
    echo "<div style='position:fixed; bottom:10px; right:10px; background:#4CAF50; color:white; padding:10px; border-radius:5px; z-index:9999;'>";
    echo "‚è±Ô∏è –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: " . round($execution_time, 3) . " —Å–µ–∫";
    echo "</div>";
}
?>
```

–ò –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ (–ø–æ—Å–ª–µ `<?php`):
```php
<?php
$GLOBALS['start_time'] = microtime(true);
?>
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ: `main.php?debug=time` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏.

---

## ‚úÖ –ò—Ç–æ–≥:

**–°—Ç—Ä–∞–Ω–∏—Ü–∞ main.php —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ 5-10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!**

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π)
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (–Ω–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫)
- ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã (–º–∏–Ω–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î)
- ‚úÖ –û–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã (–Ω–µ –ª–æ–º–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)

**–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —Å–∫–æ—Ä–æ—Å—Ç—å—é!** üöÄ

---

**–î–∞—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** 10.11.2025  
**–í–µ—Ä—Å–∏—è:** 1.0



















